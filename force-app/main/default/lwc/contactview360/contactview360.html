<template>
	<div class="smile-profile-box slds-card">
		<!-- Edit titulaire contrat -->
		<div class="slds-float--right" style="text-align: right; line-height: 1;">
			<div class="slds-p-around_x-small">
				<lightning-button-icon icon-name="utility:user_role" size="large" variant="bare" alternative-text="Modifier titulaire"  onclick={updateTitulaire}></lightning-button-icon>
			</div>
		</div>
		<div class="slds-float--right" style="text-align: right; line-height: 1;">
			<div class="slds-p-around_x-small">
				<lightning-button-icon icon-name="action:edit" size="large" variant="bare" alternative-text="Modifier"  onclick={updateCoords}></lightning-button-icon>
			</div>
		<!--  utiliser l'icon' SLDS "utility:warning" a la place de ce truc -->
			<div if:true={arequalifier} class="engie-profile-warning slds-m-top_x-small">
				<font color="#c10e24"><svg class="slds-m-bottom_xx-small slds-m-right_xx-small" style="width: 16px;"
						viewBox="0 0 576 512">
						<path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z" ></path>
						</svg>
						&Agrave; requalifier</font>
			</div>
		</div>
		<div class="profile-rond">
			<svg if:true={ismister} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41.08 45.16">
				<g>
					<path d="M30.71,32.33h-2l-1.84-2.68A14,14,0,0,0,31,21.34a3.21,3.21,0,0,0,2.81-3.09V14.6A3.3,3.3,0,0,0,32,12V9.62A5.36,5.36,0,0,0,32.71,4c-1.14-2.43-4.09-4-7.51-4a12.09,12.09,0,0,0-6.95,2.27c-8,.12-9.14,3.54-9.14,6.87V12A3.3,3.3,0,0,0,7.29,14.6v3.65a3.21,3.21,0,0,0,2.8,3.09,14.05,14.05,0,0,0,4.16,8.36L12.5,32.32h-2c-6.1,0-10.52,4-10.52,9.61v1.82a1.41,1.41,0,0,0,1.41,1.41,1.39,1.39,0,0,0,1-.41,1.45,1.45,0,0,0,.41-1V41.92c0-4,3.17-6.78,7.7-6.78h2.73a1.41,1.41,0,0,0,1.17-.63l2.11-3.14a8.27,8.27,0,0,0,8.08,0l2.2,3.2a1.43,1.43,0,0,0,1.16.61h2.74c4.44,0,7.55,2.79,7.55,6.79v1.82a1.41,1.41,0,0,0,2.82,0V41.94C41.08,36.28,36.81,32.33,30.71,32.33ZM29.47,8.24a1.44,1.44,0,0,0-.32.9v3.65A1.39,1.39,0,0,0,30,14.07a3.61,3.61,0,0,1,1,.67v3.51c0,.19-.57.41-1.32.41a1.42,1.42,0,0,0-1.42,1.41c0,4.31-3.43,9.52-7.69,9.52a5.86,5.86,0,0,1-3.42-1.17l-.2-.17c-.05,0-.08,0-.07,0a11,11,0,0,1-4-8.16,1.41,1.41,0,0,0-1.41-1.41c-.76,0-1.32-.22-1.32-.41v-3.5a3.09,3.09,0,0,1,1-.68,1.41,1.41,0,0,0,.83-1.28V9.14c0-1.9,0-4.05,6.79-4.05a1.46,1.46,0,0,0,.84-.28,9.36,9.36,0,0,1,5.64-2c2.3,0,4.29,1,4.95,2.4A2.84,2.84,0,0,1,29.47,8.24Z" ></path>
				</g>
			</svg>
			<svg if:true={ismadame} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41.08 42.9">
				<g>
					<path d="M28.53,31.12l-2.6-3.37c7-1.59,9.75-6.11,10.44-7.49a1.4,1.4,0,0,0,0-1.36A41.51,41.51,0,0,1,32.84,12C31,4.38,26.56,0,20.54,0S10,4.38,8.24,12A42,42,0,0,1,4.75,18.9a1.46,1.46,0,0,0,0,1.36c.7,1.4,3.49,5.95,10.59,7.52l-2.72,3.34C6.47,31.33,0,34.06,0,39.66v1.82a1.41,1.41,0,1,0,2.82,0V39.67c0-4.18,6.4-5.73,10.43-5.73a1.42,1.42,0,0,0,1.1-.53l4.19-5.16a26.76,26.76,0,0,0,4.2,0l4,5.15a1.42,1.42,0,0,0,1.11.55c4,0,10.44,1.56,10.44,5.73v1.82a1.41,1.41,0,1,0,2.82,0V39.66C41.08,34.07,34.62,31.33,28.53,31.12Zm5-11.48c-1.22,1.95-4.69,5.86-13,5.86S8.8,21.59,7.59,19.64c1-1.7,3-5.25,3.39-7,.7-3,3-9.84,9.56-9.84S29.4,9.7,30.1,12.66C30.5,14.39,32.5,17.94,33.49,19.64Z" ></path>
				</g>
			</svg>
			<svg if:true={isother} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46.97 44.25">
				<g>
					<path d="M36.6,31.41h-2l-2-2.89a12.87,12.87,0,0,0,3.83-8.44,2.83,2.83,0,0,0,1.41-2.74V13.69a2.78,2.78,0,0,0-1.83-3V8.23c0-2.91-.75-5.09-2.22-6.48S30.49-.13,27.9,0a1.37,1.37,0,0,0-1,.47,1.4,1.4,0,0,0-.35,1s0,.06,0,.09A7.71,7.71,0,0,0,22.65.29c-.65,0-6.44-.32-9,.67-4.24,1.65-4.57,6-4.57,7.27V11a3.3,3.3,0,0,0-1.82,2.65v3.65a3.37,3.37,0,0,0,2.34,3A14.16,14.16,0,0,0,14.14,29L12.5,31.41h-2C4.42,31.41,0,35.45,0,41v1.82a1.41,1.41,0,0,0,2.82,0V41c0-4,3.17-6.79,7.7-6.79h2.73a1.42,1.42,0,0,0,1.18-.63l2-3.05a8.16,8.16,0,0,0,8.06-.25l2.28,3.32a1.43,1.43,0,0,0,1.17.61h2.73c4.44,0,7.55,2.79,7.55,6.79v1.82a1.41,1.41,0,0,0,2.82,0V41a9.22,9.22,0,0,0-2.6-6.62A6.55,6.55,0,0,1,44.15,41v1.82a1.41,1.41,0,1,0,2.82,0V41C47,35.36,42.71,31.41,36.6,31.41ZM28.74,13.28h.4c0,.1,0,.25,0,.4v3.65c0,.36-.07.41-.07.41a1.41,1.41,0,0,0-1.41,1.41c0,4.4-3.22,9.52-7.36,9.52s-7.93-5.24-7.93-9.52A1.41,1.41,0,0,0,11,17.75a1.35,1.35,0,0,1-.86-.41V13.83a3.28,3.28,0,0,1,1-.67,1.43,1.43,0,0,0,.83-1.29V8.23c0-2.16,1.8-4.87,4.11-5.13A35.9,35.9,0,0,1,22.48,3a5.37,5.37,0,0,1,4.85,5.27v3.64A1.41,1.41,0,0,0,28.74,13.28ZM28.06,2.84c1.79-.09,3,.22,3.82,1s1.34,2.32,1.34,4.42v3.65a1.41,1.41,0,0,0,1.41,1.41H35v4.05a1.7,1.7,0,0,1,0,.25A1.42,1.42,0,0,0,33.67,19a10.17,10.17,0,0,1-3.24,7.71,1.09,1.09,0,0,0-.3.36l-.44.74a1.42,1.42,0,0,0,.06,1.51l1.45,2.11H28.72l-2-2.9a14,14,0,0,0,3.71-8.28A3.13,3.13,0,0,0,32,17.34V13.69a2.78,2.78,0,0,0-1.82-3V8.23A8.19,8.19,0,0,0,28,2.85Z" ></path>
				</g>
			</svg>
		</div>
		<div>
			<ul class="slds-text-body_small slds-p-around_small">
					<!-- <b><font size=2>{salutation}</font></b> -->
					<li><b>{firstname} {lastname}</b></li>
					<li class="slds-p-bottom_small"><b style="text-transform: capitalize;">{refclient}</b><b if:false={isClientVip} if:true={segmentmarketing}> - {segmentmarketing}</b></li>
					<!-- Affichage du code client pour un client VIP  -->
					<li if:true={isClientVip} style="margin-bottom: 1em;">
						<lightning-icon icon-name="utility:warning" alternative-text="Warning!" variant="error" size="x-small" title="Warning" ></lightning-icon>
						<b style="text-transform: capitalize ; vertical-align: -0.250em ;">  {messageClientVIP}</b>
 					</li>
					<li if:true={isinternaute} class="profile-details"><lightning-button label='Espace Client actif' icon-name="action:web_link"  onclick={navigateToEC}></lightning-button></li>
					<li if:true={becomesinternaute} class="profile-details" style="color:#059ce7;"><a onclick={ouvrirRenvoieCodeActivation}>Espace Client en cours d'activation</a></li>
					<li if:true={notinternaute} class="profile-details"><lightning-button label="Créer l'Espace Client" variant="base" onclick={ouvrirCreationEspaceClient}></lightning-button></li>

					<li if:false={eDocumentStatus} class="profile-details"><lightning-button label="Activer les e-Documents" variant="base" onclick={handleOpenFreeServices} disabled={accountUndefined}></lightning-button></li>
					<li if:true={eDocumentStatus} class="profile-details"><img src={imgedocactif}  alt="Edoc actif"/></li>
					<li if:true={eDocumentStatus} class="profile-details">
						<span if:false={accountUndefined} class="text-color" onclick={handleOpenFreeServices}>Modifier le service</span>
						<span if:true={accountUndefined} class="text-color-disabled">Modifier le service</span>
					</li>

					<li class="slds-p-top_small">{numvoierue}</li>
					<li if:true={complementadresse}>{complementadresse}</li>
					<li class="slds-p-bottom_small">{mailingpostalcode} {mailingcity}</li>
					<!--Bug : no phone if no email  SMIL-1390 pkt 11 et 12 -->
					<li if:true={emailprincipal}>{emailprincipal}</li>
					<li if:true={telfixeprincipal}>{telfixeprincipal}</li>
					<li if:true={mobileprincipal}>{mobileprincipal}</li>
					<li if:true={estConnuEHS} style="display: inline-flex; align-items: center;">	
						<span title={messageEhsConnu} style="margin-left: -1px;">	
							<svg version="1.1"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40px" height="21px" viewBox="0 0 40 21" enable-background="new 0 0 40 21" xml:space="preserve">
								<image width="40" height="21" x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAzCAMAAABWt10pAAACslBMVEUAAAAArP8Aqf8Aqv8Aq/8Aq/8ArP8Aq/8Aq/8Aqv8Aqv8Aq/8Aqv8Aqv8Aqv8AqP8Aqv8Aqv8Aqv8Aqf8Aqv8Aq/8Aqv8AqP8Aqf8Aqv8AqP8Aqv8ArP8Aq/8Ap/8AtP8Aqv8Aqv8Aqv8Aqv8Aqf8Aqv8Aq/8ArP8Aq/8ArP8Aqf8Aqv8Aq/8Aq/8Arf8Aq/8Aqf8Aqv8Ap/8An/8Aqv8Aqv8Aq/8AqP8Aqv8Aqv8AzP8Aqv8Aqv8Aqv8Aqv8Aqf8Aqv8Aqf8Aq/8Asf8Aqf8Aq/8Aqv8Aqv8Aq/8Aqv8Ap/8Aqv8Aqf8Aqv8Aqv8Ap/8Aqf8AqP8Aqf8Aqf8ArP8Aqf8An/8Aqf8Aqf8Aqf8Aqv8Aqv8Aq/8Aq/8Aqv8Aqv8Aqv8Aqv8Aqv8Aqv8Apv8Aqv8Aqf8Aq/8ArP8Aqv8Aqv8Aqf8Arv8Aq/8AqP8Aqf8Apv8Aqv8Aqv8Aqv8Aqv8Aqv8ArP8Aqv8Aqf8Aqf8AqP8Aq/8Aqv8Aq/8Aqv8Aqv8A//8Aqv8Aqv8Aof8Arf8Arf8Aq/8Aqv8Aq/8Aqf8Akv8Aqf8Aqv8Apv8Aqf8Aqv8Aqv8Aqf8Aqv8Aqv8Aqv8Aqf8AqP8Arf8Aqv8Aqv8Aqv8Arf8Aqv8Amf8Aqv8Aqv8Arf8Atv8Asf8A//8Aqv8As/8Aqv8Aqf8Aqv8Aqv8Aqv8Aqv8As/8Apf8Aqf8Aq/8AqP8Aq/8Aqf8Aqf8AgP8Aqf8Aov8ApP8AqP8Arf8AgP8Aq/8Aqv8ArP8Aq/8Aq/8Aqv8ApP8Aq/8Aqf8Aqf8Aqf8Aqv8Aqv8Aqv8Apv8Aqv8Arv8Aq/8Aqv8Aq/8Aq/8Aq/8Aqv8Aqv8Aqf8AqP8Aqv8Aqf8Aq/8Aqv8Aqv8Av/8Aqv8Aq/8Aqf8Aq/8Aov8Aqf8Aq/8Aqf8Aqv8Arf8Aqv9wt0RnAAAA5XRSTlMAJT5LiaQrdr1X13DlBmxwMN1Fd8Ope1VKKialkEkaEZP1un70wFVKpjHr5kNbH17f4ToQ6O9zT+7SBffY/OdZA7SnDceMuezjFR3IyvHzTvdsmvo0gAhHYlMtDPI6kDPp2or2LjZNhaXyn6wmnYeyFxLNqHjkN+pl6CNGCYsb/QLg/hM+Qf5RlZsH0KsU3PhyjN4hzKCWIlT68Bw8BR4nGQcXAaIKyTvb7c8YFB99Tyy2ofEEgiEqLzIC+8IogkCyDoOd1m5dgfso+Sw9wexSqq3Tfzi+p0zLWgTQ5sGXC4bFutw7FUY6awAABI5JREFUWMPtmOtflEUUx48iXhcNvK6XdVcugiJJVJayQW6rayZWBiVdiDZNio1VMs0sSs0wzbxUhiJlZVhEqdmNrnYlu9/I7K6e/6M5M8/M88w+u7DI2qcXnBfPzJzfmfN9Zph95nwA+D9Zn75J/ZKT0bDk5H5JffskLnv/AQOxExs4oH8PAYMGY1w2eNAZAoY44gNIcwzpJiBlaPcA0oamxI0YdmYEYcPiIZyT2hMEWWpaF4jh9jkjRo4aPcbpHGsPHut0jhk9auQI+5zhnSDGWQPHT3BNjP+vONE1Ybx19rgYcW5D90zq5jHRbJLHSOOOIqaTkJGZ1ROAtKzMDMqWHuGezHzZOYkASMvJZiknWz1TpuYmEiAtd+oU1Z+WdzYIwvKmnb3cvZYQO3e68SvKP084Cs6/4EKLXpCRL7sz1C1w0cUzuYed11kyrtArtEuKIhG52renmFzUudSMmI3o453L9O8UyFg/dYo1zakx5gjn3EBAdOYB+MSyVAgKyOXG/EDq/PlXBBZgiQZZKERvIHAl71xlYVxNjkXXiEGpeD+fka1Mg7i4L7MMdHMn8eZarl4nfIvVOlUCnKNG5WyUpiB4vRVyA3milSk33lQh8pQoVxkb3axGlTrzFjYKmhC8lZw+DllC4yg3ALldkKbnydOGNFjK2ulomgWCt4HYJx8sY88qNcew2yWE1LlMuyPyXMgJ1frEkIAA3ElNDYCfQ2jgkAtTFub+5UqtMqWgbSULV0irFWnowNxF6sq7UUFW8TmrWZTMVA2meg/T1qg8K8zN80ScA5Dv6qLOveq1xHbpkbOYo4CnXxtFtdh9xs7aIOLXFzYh9+vnx9gF+bSrkZFYZ4cY3QcUBB6kdt16GbSBhg9JiFA3PhwdMlO+a3052SbER6wQAK+EgMcSuJl3t4A4FmCqJK8pL69HfNSK2Yq6bdAh8JiERH66RMkoIVAToW7WFlOtFfDbWD2MuN2i71DMnY9bAmuLuW854hNCTam15nnStmm7ngo14O5Q0U4x3NOoqTmNe1W/qTHEqtlQY5PyPG0Jfkao7op90Gu99l8alvJnF1HPsuNf+Fw0JdzV1Pgh+DzMCyVgJftXIb7AKormA/givITeFlaUI+5+meQi4yWWsAW1suhWxFe4K/iqj9qV9Ns/yMSDsD8f8VBMCB4GeK2SlS3VR3ZgM7y+CN7APEjiuVrwTWr2siRv8W/8203ArhK2V20EeefdlrXvASu4nAgl7wN8YIM0eJihsWMIpcsAlrL+PoQP68nDP5A16HWzIrKSHFmAR1m79SOAjz8Bn5z6KV30VYCfdbZddTqEdQsR5UUJ8Hk7tvm5o0gk/YKy7yKI2ExRxW6raJclWDRIux3i1yKPrfYXGnP4sw6+5OUgfMXHXzuMuFZHMCYEbZBN+pn75lsXWiHfff/Dj2Bu10/HzJyxIdnsZX+2QoDdf+EOkn85/mtzB54A/O0obFdJ6qglSPB3gA7APwC2wIEwpDfEhLSxC+xP0CB/8VqM2Ym/kVeuKf8gnlQQPGVA4DjiaSMBlVH8Pzr/Ap55zjWtuH3aAAAAAElFTkSuQmCC" ></image>
							</svg>
						</span>
						<p class="smile-HomeServices-Red">HOME SERVICES</p>
					</li>
					<li if:true={estClientEHS} style="display: inline-flex; align-items: center;">
						<span title={messageEhsActif} style="margin-left: -1px;">	
							<svg version="1.1"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40px" height="21px" viewBox="0 0 40 21" enable-background="new 0 0 40 21" xml:space="preserve">
								<image width="40" height="21" x="0" y="0" xlink:href="data:image/png;base64,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" ></image>
							</svg>
						</span>
						<p class="smile-HomeServices-Green">HOME SERVICES</p>
					</li>
			</ul>
		</div>
	<!-- Popup de la création de l'espace client-->
		<template if:true={creerEspaceClientModel}>
        	<div class="smile-espaceClient-popup">
				<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_medium">
					<div class="slds-modal__container">
						<header class="slds-modal__header">
							<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeCreationEspaceClient}>
								<lightning-icon icon-name="utility:close" size="medium">
								</lightning-icon>
								<span class="slds-assistive-text">Annuler</span>
							</button>
							<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">CRÉER L'ESPACE CLIENT</h2>
						</header>
						<div class="slds-modal__content slds-p-around_medium smile-espaceClient-box" id="modal-content-id-1">
								<div class="slds-grid slds-gutters">
									<!--Le contact possède au moins un email dans sa fiche contact-->
									<div if:true={isThereAnEmail} class="slds-col slds-size_1-of-3">
										<lightning-combobox
											class="EmailPicklist"
											name="Email"
											label="Email de connexion"
											value={emailprincipalitem}
											options={listeEmails}
											onchange={handleChangeEmail}
											required>
										</lightning-combobox>
									</div>
									<div if:true={isNewEmail} class="slds-col slds-size_2-of-3">
										<p class="smile-background-message-zone">
											<span class="smile-background-message-text">L' email de connexion à l'Espace Client sera automatiquement défini comme email de préférence.</span>
										</p>
									</div>
									<!--Le contact ne possède pas d'emails dans sa fiche contact-->
									<div if:false={isThereAnEmail} class="slds-col slds-size_1-of-2">
											<lightning-input type="email" label = "Email de connexion" name="newEmail" class="EmailInput" required value={emailNewEspaceClient} onchange={handleChangeNewEmail}>
												</lightning-input>
									</div>
									<div if:false={isThereAnEmail} class="slds-col slds-size_1-of-2">
										<p class="smile-background-message-zone">
											<span class="smile-background-message-text">Un email va être envoyé au client pour confirmer la création de son Espace Client et personnaliser son mot de passe.</span>
										</p>
									</div>
								</div>	
						</div>
						<footer class="slds-modal__footer">
							<lightning-button label={label.ANNULER} variant="neutral" onclick={closeCreationEspaceClient}></lightning-button>&nbsp;&nbsp;&nbsp;&nbsp;
							<lightning-button label={label.CREER} variant="brand" onclick={creerEspaceClient}></lightning-button>
						</footer>
					</div>
				</section>
            	<div class="slds-backdrop slds-backdrop_open"></div>
        	</div>
		</template>
		<!-- Popup du renvoi du code d'activation -->
		<template if:true={renvoyerCodeActivationModel}>
        	<div class="smile-espaceClient-popup">
				<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open slds-modal_small">
					<div class="slds-modal__container">
						<header class="slds-modal__header">
							<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeRenvoieCodeActivation}>
								<lightning-icon icon-name="utility:close" size="medium">
								</lightning-icon>
								<span class="slds-assistive-text">Annuler</span>
							</button>
							<h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Renvoyer l’email d’activation</h2>
						</header>
						<div class="slds-modal__content slds-p-around_medium smile-espaceClient-box" id="modal-content-id-2">
								<div class="slds-grid slds-gutters">
									<div class="slds-col slds-size_1-of-3">
										<lightning-input type="email" label = "Email de connexion" name="newEmail" readonly value={emailprincipal}>
										</lightning-input>
									</div>
									<div class="slds-col slds-size_2-of-3">
										<p class="smile-background-message-zone">
											<span class="smile-background-message-text">Si le client ne reçoit pas cet email d’ici quelques minutes, dites-lui de vérifier dans ses « courriers indésirables » ou « SPAM ».</span>
										</p>
									</div>
								</div>	
						</div>
						<footer class="slds-modal__footer">
							<lightning-button label={label.ANNULER} variant="neutral" onclick={closeRenvoieCodeActivation}></lightning-button>&nbsp;&nbsp;&nbsp;&nbsp;
							<lightning-button label={label.RENVOYER} variant="brand" onclick={renvoyerMailActivation}></lightning-button>
						</footer>
					</div>
				</section>
            	<div class="slds-backdrop slds-backdrop_open"></div>
        	</div>
		</template>
		<!--Popup cas d'erreurs-->
		<template if:true={erreurPopupModel}>
			<div class="smile-espaceClient-popup">
				<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-03" aria-modal="true" aria-describedby="modal-content-id-3" class="slds-modal slds-fade-in-open slds-modal_small">
					<div class="slds-modal__container">
						<header class="slds-modal__header">
							<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Fermer" onclick={closeErreurPopup}>
								<lightning-icon icon-name="utility:close" size="medium">
								</lightning-icon>
							</button>
							<h2 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate" >
								
								<template if:false={erreurPopupModel}>Erreur technique</template>
								<template if:true={erreurPopupModel}>Information</template>

							</h2>
						</header>
						<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
								<p>
									{messageErreur}
								</p>	
						</div>
						<footer class="slds-modal__footer">
							<lightning-button label={label.OK} variant="success" onclick={closeErreurPopup}></lightning-button>
						</footer>
					</div>
				</section>
				<div class="slds-backdrop slds-backdrop_open"></div>
			</div>
		</template>
	</div>
</template>