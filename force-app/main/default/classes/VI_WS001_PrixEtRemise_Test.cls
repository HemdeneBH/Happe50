@isTest
public class VI_WS001_PrixEtRemise_Test {
    /* Service Id to Mock from HttpRequestService__mdt */
    private static final String SERVICEID_TO_TEST = 'VI_SERV_0001_V1';
    /* XML payload as WS request */
    private static final String requestXml = '<soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"> <soap:Body><rechercherPrixEtRemisesInput><idPack>GBUGR2_P</idPack><idOffre>GBUGR2</idOffre><identifiantsLieu><codePostal>91420</codePostal><codeCommune>91432</codeCommune></identifiantsLieu><enseigneSouscription><code>PPO</code></enseigneSouscription><dateValiditePrix>2021-12-09T10:25:14.844Z</dateValiditePrix><datePropositionCommerciale>2021-12-09T10:25:15.364Z</datePropositionCommerciale><dateEffetContrat>2021-12-09T10:25:14.844Z</dateEffetContrat><contexteSouscription><code>CHGT_FOURN</code></contexteSouscription><caracteristiquesOffreGaz><plageConsommation><code>6000</code></plageConsommation></caracteristiquesOffreGaz><caracteristiquesOffreElec><puissance><code>6</code></puissance><pourcentageOffreVerte><code>100</code></pourcentageOffreVerte></caracteristiquesOffreElec></rechercherPrixEtRemisesInput><rechercherPrixEtRemisesInput><idPack>GBUKF2_P</idPack><idOffre>GBUKF2</idOffre><identifiantsLieu><codePostal>91420</codePostal><codeCommune>91432</codeCommune></identifiantsLieu><enseigneSouscription><code>PPO</code></enseigneSouscription><dateValiditePrix>2021-12-09T10:25:14.844Z</dateValiditePrix><datePropositionCommerciale>2021-12-09T10:25:15.976Z</datePropositionCommerciale><dateEffetContrat>2021-12-09T10:25:14.844Z</dateEffetContrat><contexteSouscription><code>CHGT_FOURN</code></contexteSouscription><caracteristiquesOffreGaz><plageConsommation><code>6000</code></plageConsommation></caracteristiquesOffreGaz><caracteristiquesOffreElec><puissance><code>6</code></puissance><pourcentageOffreVerte><code>100</code></pourcentageOffreVerte></caracteristiquesOffreElec></rechercherPrixEtRemisesInput><contexte><version>V2</version><systemPath><system_x><systemId>VI</systemId></system_x></systemPath><allowCache>false</allowCache></contexte></soap:Body> </soap:Envelope>';
    /* XML payload as WS response */
    private static final String responseXml  = '<soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"> <soap:Body> <rechercherPrixEtRemisesOutput><donneesPack><listeRemises><remise><typeRemise><libelleCourt>remise OS structurelle</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_S</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise><remise><typeRemise><libelleCourt>remise OS promotionnelle</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_P</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise><remise><typeRemise><libelleCourt>remise OS enseigne</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_E</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise></listeRemises><libellePack>Gaz Référence 2 ans</libellePack><idPack>GBUGR2_P</idPack></donneesPack><donneesOffre><secteurActivite><libelleCourt>Gaz naturel</libelleCourt><code>5G</code></secteurActivite><listeRemises><remise><typeRemise><libelleCourt>remise récurrente</libelleCourt><description>PAS DE REMISE</description><code>REM_REC</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise><remise><typeRemise><libelleCourt>remise récurrente structurelle pour les services récurrents</libelleCourt><description>PAS DE REMISE</description><code>REM_REC_S</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise><remise><typeRemise><libelleCourt>remise récurrente promotionnelle pour les services récurrents</libelleCourt><description>PAS DE REMISE</description><code>REM_REC_P</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise></listeRemises><listePrix><prix><tauxTVA>5.5</tauxTVA><montantTTC>45.10125</montantTTC><montantHT>42.75</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUGR2</libelleCourt><code>GBTSRGA1AB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Abonnement</libelleCourt><code>AB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>5.5</tauxTVA><montantTTC>45.10125</montantTTC><montantHT>42.75</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-08-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUGR2</libelleCourt><code>GBSFTGA1AB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Abonnement</libelleCourt><code>AB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>31.583</tauxTVA><montantTTC>54.15944827</montantTTC><montantHT>41.16</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-07-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>Dist ABO T1 PRIX</libelleCourt><code>G1LPDST1AB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Acheminement abonnement</libelleCourt><code>ACHAB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>19.987</tauxTVA><montantTTC>0.037284</montantTTC><montantHT>0.03107</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-07-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>Dist Conso T1 PRIX</libelleCourt><code>G1QPDST1CO</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Acheminement consommation</libelleCourt><code>ACHCO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>32.774</tauxTVA><montantTTC>0.105168</montantTTC><montantHT>0.07921</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUGR2</libelleCourt><code>GBTSRGA1CO</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Consommation</libelleCourt><code>CO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>48.614000000000004</tauxTVA><montantTTC>0.052548</montantTTC><montantHT>0.03536</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-08-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUGR2</libelleCourt><code>GBSFTGA1CO</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Consommation</libelleCourt><code>CO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>5.542</tauxTVA><montantTTC>10.7399</montantTTC><montantHT>10.17596992</montantHT><caracteristiquesGaz><typePrix><libelleCourt>Contribution tarifaire dacheminement</libelleCourt><code>CTA</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>20.0</tauxTVA><montantTTC>3.1104</montantTTC><montantHT>2.592</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2000-01-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><code>G1PDRP</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Date de règlement personnalisée</libelleCourt><code>DRP</code></typePrix></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>19.968</tauxTVA><montantTTC>0.007512</montantTTC><montantHT>0.00626</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>Prix Obligations 6000kWh 01/12</libelleCourt><code>GBTSOGA1OB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Obligations</libelleCourt><code>OB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>19.983999999999998</tauxTVA><montantTTC>0.014952</montantTTC><montantHT>0.01246</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>Plafond Obligations 6000kWh 01</libelleCourt><code>GBTSOGA1OM</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Obligations max</libelleCourt><code>OM</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>13.975999999999999</tauxTVA><montantTTC>144.36194827</montantTTC><montantHT>126.66</montantHT><caracteristiquesGaz><typePrix><libelleCourt>Total abonnement</libelleCourt><code>TOTAB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>33.318</tauxTVA><montantTTC>0.202512</montantTTC><montantHT>0.1519</montantHT><caracteristiquesGaz><typePrix><libelleCourt>Total consommation</libelleCourt><code>TOTCO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix></listePrix><libelleOffre>Gaz Référence 2 ans</libelleOffre><idOffre>GBUGR2</idOffre></donneesOffre></rechercherPrixEtRemisesOutput><rechercherPrixEtRemisesOutput><donneesPack><listeRemises><remise><typeRemise><libelleCourt>remise OS structurelle</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_S</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise><remise><typeRemise><libelleCourt>remise OS promotionnelle</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_P</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise><remise><typeRemise><libelleCourt>remise OS enseigne</libelleCourt><description>PAS DE REMISE</description><code>REM_OS_E</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree></remise></listeRemises><libellePack>Gaz Energie Garantie 2 ans</libellePack><idPack>GBUKF2_P</idPack></donneesPack><donneesOffre><secteurActivite><libelleCourt>Gaz naturel</libelleCourt><code>5G</code></secteurActivite><listeRemises><remise><typeRemise><libelleCourt>remise récurrente</libelleCourt><description>PAS DE REMISE</description><code>REM_REC</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise><remise><typeRemise><libelleCourt>remise récurrente structurelle pour les services récurrents</libelleCourt><description>PAS DE REMISE</description><code>REM_REC_S</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise><remise><typeRemise><libelleCourt>remise récurrente promotionnelle pour les services récurrents</libelleCourt><description>PAS DE REMISE</description><code>REM_REC_P</code></typeRemise><tauxTVA>0.0</tauxTVA><pourcentageRemise>0</pourcentageRemise><natureRemise>PAS DE REMISE</natureRemise><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><duree>0</duree><applicationRemise><libelleCourt>Nu</libelleCourt><code>NU</code></applicationRemise></remise></listeRemises><listePrix><prix><tauxTVA>24.871</tauxTVA><montantTTC>69.1658</montantTTC><montantHT>55.39</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUKF2</libelleCourt><code>GBTRTGA1AB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Abonnement</libelleCourt><code>AB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>15.953000000000001</tauxTVA><montantTTC>119.01455</montantTTC><montantHT>102.64</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-07-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUKF2</libelleCourt><code>GBRSUGA1AB</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Abonnement</libelleCourt><code>AB</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>30.092000000000002</tauxTVA><montantTTC>0.130428</montantTTC><montantHT>0.10026</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-12-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUKF2</libelleCourt><code>GBTRTGA1CO</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Consommation</libelleCourt><code>CO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>35.202</tauxTVA><montantTTC>0.089952</montantTTC><montantHT>0.06653</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2021-07-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><libelleCourt>GDF_NOF_MP_GBUKF2</libelleCourt><code>GBRSUGA1CO</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Consommation</libelleCourt><code>CO</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>5.5</tauxTVA><montantTTC>10.72935</montantTTC><montantHT>10.17</montantHT><caracteristiquesGaz><typePrix><libelleCourt>Contribution tarifaire dacheminement</libelleCourt><code>CTA</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>20.0</tauxTVA><montantTTC>3.1104</montantTTC><montantHT>2.592</montantHT><dateFinValiditePrix>9999-12-31T00:00:00.000Z</dateFinValiditePrix><dateDebutValiditePrix>2000-01-01T00:00:00.000Z</dateDebutValiditePrix><clePrix><code>G1PDRP</code></clePrix><caracteristiquesGaz><typePrix><libelleCourt>Date de règlement personnalisée</libelleCourt><code>DRP</code></typePrix></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix><prix><tauxTVA>0.0</tauxTVA><montantTTC>0.0</montantTTC><montantHT>0.0</montantHT><clePrix><code>GIACHA1</code></clePrix><caracteristiquesGaz><typePrix><code>IA</code></typePrix><plageConsommation><libelleCourt>0 à 6000 kWh</libelleCourt><code>6000</code></plageConsommation></caracteristiquesGaz><caracteristiquesElec><CAEElec>0</CAEElec></caracteristiquesElec></prix></listePrix><libelleOffre>Gaz Energie Garantie 2 ans (prix de marché)</libelleOffre><idOffre>GBUKF2</idOffre></donneesOffre></rechercherPrixEtRemisesOutput><messageRetours><messageRetour><type_x>Information</type_x><source>Middleware OCTOPUS</source><libelle>Traitement effectué sans erreur</libelle><code>OCTOPUS_RechercherPrixEtRemises_01</code></messageRetour></messageRetours></soap:Body> </soap:Envelope>';
        /**
* @author Sutharsan Pushparajah
* @date 11/10/2021
* @description Mocking callout in test context
* @return DOM.Document the response in XML
*/
        private static DOM.Document buildResponse(){
            
            DOM.Document doc = new DOM.Document();
            doc.load(responseXml);
            
            return doc;
        }
    
     /**
     * @author Sutharsan Pushparajah
     * @date 11/10/2021
     * @description Mocking callout in test context
     */
    public inherited sharing class TestingMockSoap implements WebServiceMock{

        public void doInvoke(Object stub, Object request, Map<String, Object> response, String endpoint, String soapAction, 
                                String requestName, String responseNS, String responseName, String responseType) {
            	
            Dom.Document responseDoc = buildResponse();
            Dom.XmlNode rootNode = responseDoc.getRootElement();
            Dom.XmlNode bodyNode = rootNode.getChildElement('Body', 'http://schemas.xmlsoap.org/soap/envelope/');
            Dom.XmlNode contratResponseNode = bodyNode.getChildElement(responseName, responseNS);

            gdfsuezBefCalypsoContratV7.rechercherContratResponse_element responsex = new gdfsuezBefCalypsoContratV7.rechercherContratResponse_element(contratResponseNode);
            response.put('response_x', responsex);
        }
    }
    
    @isTest
    private static void testRechercherPrixEtRemises(){

        DOM.Document inputDoc = new DOM.Document();
        inputDoc.load(requestXml);
        MCK002_MultiWebserviceMock multiMockSoap = new MCK002_MultiWebserviceMock();
        Test.setMock(WebServiceMock.class, multiMockSoap);
        multiMockSoap.addRequestMock(SERVICEID_TO_TEST, new TestingMockSoap());
        
        Test.startTest();
        //Search with SOAP implementation
        VI_gdfsuezBefCalypsoPrixetremisesV2.PrixEtRemisesPort port = new VI_gdfsuezBefCalypsoPrixetremisesV2.PrixEtRemisesPort();
        List<String> listString =new List<String>();
        listString.add('test');
        Datetime dt=datetime.newInstance(2013, 4, 1, 0, 0, 0);
        VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesInputDt inputDt=VI_SM022_PrixEtRemises.createInputV2('test','test','test','test',listString,'test','test','test','test','test','test',5,5,'test','test',5,
                                                                                                                        listString,dt,dt,dt,'test','test','test',dt,'test','test'
                                                                                                                       );
        List<VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesInputDt> inputList=new List<VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesInputDt>();
        VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemises_element request_x = new VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemises_element();
        request_x.rechercherPrixEtRemisesInput = inputList;
        
        VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesResponse_element response_x;
        Map<String, VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesResponse_element> response_map_x = new Map<String, VI_gdfsuezBefCalypsoPrixetremisesV2.rechercherPrixEtRemisesResponse_element>();
        response_map_x.put('response_x', response_x);

        String[] ns_map_type_info = new String[]{'http://gdfsuez/bef/calypso/prixetremises/v2', 'VI_gdfsuezBefCalypsoPrixetremisesV2', 'http://gdfsuez.com/bef/chp/commun/v3', 'VI_gdfsuezComBefChpCommunV3'};
        
        VI_WS001_PrixEtRemise.RechercherPrixEtRemises(port, request_x, response_map_x, ns_map_type_info);
        response_x = response_map_x.get('response_x');
        

        Test.stopTest();
    }
}