/**
 * @File Name          : HP_GfsuezBefCalypsoCorrespondanceV2.cls
 * @Description        : 
 * @Author             : Mohamed Aamer
 * @Group              : 
 * @Last Modified By   : Vincent Albiser
 * @Last Modified On   : 24/04/2020 Ã  15:52:52
 * @Modification Log   : 
 * Ver       Date            Author      		    Modification
 * 1.0    22/01/2020   Mohamed Aamer     Initial Version
**/
//Generated by FuseIT WSDL2Apex (http://www.fuseit.com/Solutions/SFDC-Explorer/Help-WSDL-Parser.aspx)
//Methods Included: EnvoyerCorrespondance
//Primary Port Class Name: Dependency
public class HP_GfsuezBefCalypsoCorrespondanceV2 {
	
	public class coupleCodeValeurDt {
		public gdfsuezComBefChpPivot.listeValeursDt code;
		public String valeur;
		private String[] code_type_info = new String[] {'code','http://gdfsuez/bef/calypso/Correspondance/v2','listeValeursDt','1','1','false'};
		private String[] valeur_type_info = new String[] {'valeur','http://gdfsuez/bef/calypso/Correspondance/v2','string','1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/Correspondance/v2','true','false'};
		private String[] field_order_type_info = new String[] {'code','valeur'};
		public coupleCodeValeurDt(){
		}
		public coupleCodeValeurDt(DOM.XmlNode responseNode){
			Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
			DOM.XmlNode codeNode = responseNode.getChildElement('code', 'http://gdfsuez/bef/calypso/Correspondance/v2');
			if(codeNode == null) {
				this.code = null;
			} else{
				gdfsuezComBefChpPivot.listeValeursDt codeObj = new gdfsuezComBefChpPivot.listeValeursDt(codeNode);
				nodesParsed.add(codeNode);
				this.code = codeObj;
			}
			//System.debug(this.code);
			DOM.XmlNode valeurNode = responseNode.getChildElement('valeur', 'http://gdfsuez/bef/calypso/Correspondance/v2');
			this.valeur = (valeurNode == null) ? null : valeurNode.getText();
			nodesParsed.add(valeurNode);
			//System.debug(this.valeur);
		}
		public void populateXmlNode(Dom.XmlNode outerNode){

			gdfsuezComBefChpPivot.listeValeursDt codeObj = this.code;
			Dom.XmlNode codeNode = outerNode.addChildElement('code', '', '');
			if(codeObj != null) {
				codeObj.populateXmlNode(codeNode);
			}
			Dom.XmlNode valeurNode = outerNode.addChildElement('valeur', '', '');
			if(this.valeur != null) {
				valeurNode.addTextNode(this.valeur);
			}
		}
	}
	
	//Unexpected WSDL node under definitions: {http://schemas.xmlsoap.org/wsdl/}documentation
	//WSDL node {http://schemas.xmlsoap.org/wsdl/}types expected before other nodes
	public class Dependency {
		public String endpoint_x = 'http://localhost:8080/services/GestionCorrespondance';
		public Map<String,String> inputHttpHeaders_x;
		public Map<String,String> outputHttpHeaders_x;
		public String clientCertName_x;
		public String clientCert_x;
		public String clientCertPasswd_x;
		public Integer timeout_x;
		private String[] ns_map_type_info = new String[] {'http://gdfsuez.com/bef/chp/pivot','gdfsuezComBefChpPivot','http://gdfsuez/bef/calypso/Correspondance/v2','HP_GfsuezBefCalypsoCorrespondanceV2'};
		
		private DOM.XmlNode populateDoc(DOM.Document doc){
			String env = 'http://schemas.xmlsoap.org/soap/envelope/';

			DOM.XmlNode envelope = doc.createRootElement('Envelope', env, 'env');
			DOM.XmlNode body = envelope.addChildElement('Body', env, 'env');
			return body;
		}

		public gdfsuezComBefChpPivot.messageRetoursDt EnvoyerCorrespondance_Http(HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceInputDt envoyerCorrespondanceInput,gdfsuezComBefChpPivot.contextDt context) {
			DOM.Document doc = new DOM.Document();
			DOM.XmlNode body = populateDoc(doc);
			DOM.XmlNode methodNode = body.addChildElement('envoyerCorrespondance', 'http://gdfsuez/bef/calypso/Correspondance/v2', '');
			HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondance_element request_x = new HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondance_element(envoyerCorrespondanceInput,context);
			request_x.populateXmlNode(methodNode);

			HttpRequest req = new HttpRequest();
			req.setEndpoint(endpoint_x);
			req.setMethod('POST');
			req.setHeader('Content-Type', 'text/xml; charset=UTF-8');
			req.setHeader('SOAPAction', 'tns:envoyerCorrespondance');
			System.debug('doc.toXmlString()============================='+doc.toXmlString());
			req.setBody(doc.toXmlString());
			System.debug('req.getBody()============================='+req.getBody()); 
			Http http = new Http();
			datetime startCall = datetime.now();
			HTTPResponse res = http.send(req);
			datetime endCall = datetime.now();
			HP_UTIL_HTTPUtils.saveLogResponse(req, res, (endCall.getTime() - startCall.getTime()));
			System.debug('res.getBody() : '+res.getBody());
			   Dom.Document responseDoc = res.getBodyDocument();
			   Dom.XmlNode rootNode = responseDoc.getRootElement();
			   Dom.XmlNode bodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
			   Dom.XmlNode envoyerCorrespondanceResponseNode = bodyNode.getChildElement('envoyerCorrespondanceResponse', 'http://gdfsuez/bef/calypso/Correspondance/v2');

			   HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceResponse_element response_x = new HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceResponse_element(envoyerCorrespondanceResponseNode);
			   return response_x.messageRetours;
			//return null;
		}
 	}
	public class envoyerCorrespondance_element {
		public HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceInputDt envoyerCorrespondanceInput;
		public gdfsuezComBefChpPivot.contextDt context;
		private String[] envoyerCorrespondanceInput_type_info = new String[]{'envoyerCorrespondanceInput','http://gdfsuez/bef/calypso/Correspondance/v2','envoyerCorrespondanceInputDt','1','1','false'};
		private String[] context_type_info = new String[]{'context','http://gdfsuez/bef/calypso/Correspondance/v2','contextDt','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/Correspondance/v2','true','false'};
		private String[] field_order_type_info = new String[]{'envoyerCorrespondanceInput','context'};
		public envoyerCorrespondance_element(){
		}
		public envoyerCorrespondance_element(HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceInputDt envoyerCorrespondanceInput,gdfsuezComBefChpPivot.contextDt context){
			this.envoyerCorrespondanceInput = envoyerCorrespondanceInput;
			this.context = context;
		}
		public void populateXmlNode(Dom.XmlNode outerNode){

			//System.assertEquals('EnvoyerCorrespondance', outerNode.getName());

			HP_GfsuezBefCalypsoCorrespondanceV2.envoyerCorrespondanceInputDt envoyerCorrespondanceInputObj = this.envoyerCorrespondanceInput;
			Dom.XmlNode envoyerCorrespondanceInputNode = outerNode.addChildElement('envoyerCorrespondanceInput', '', '');
			if(envoyerCorrespondanceInputObj != null){
				envoyerCorrespondanceInputObj.populateXmlNode(envoyerCorrespondanceInputNode);
			}

			gdfsuezComBefChpPivot.contextDt contextObj = this.context;
			Dom.XmlNode contextNode = outerNode.addChildElement('context', '', '');
			if(contextObj != null){
				contextObj.populateXmlNode(contextNode);
			}
		}
	}
	public class envoyerCorrespondanceInputDt {
		public gdfsuezComBefChpPivot.listeValeursDt idFormulaire;
		public gdfsuezComBefChpPivot.listeValeursDt canalCommunication;
		public HP_GfsuezBefCalypsoCorrespondanceV2.listeCoupleCodeValeurDt listeCoupleCodeValeur;
		public gdfsuezComBefChpPivot.listeValeursDt modeEnvoi;
		public String email;
		public String numeroTel;
		public gdfsuezComBefChpPivot.listeValeursDt idApplication;
		private String[] idFormulaire_type_info = new String[]{'idFormulaire','http://gdfsuez/bef/calypso/Correspondance/v2','listeValeursDt','1','1','false'};
		private String[] canalCommunication_type_info = new String[]{'canalCommunication','http://gdfsuez/bef/calypso/Correspondance/v2','listeValeursDt','1','1','false'};
		private String[] listeCoupleCodeValeur_type_info = new String[]{'listeCoupleCodeValeur','http://gdfsuez/bef/calypso/Correspondance/v2','listeCoupleCodeValeurDt','1','1','false'};
		private String[] modeEnvoi_type_info = new String[]{'modeEnvoi','http://gdfsuez/bef/calypso/Correspondance/v2','listeValeursDt','1','1','false'};
		private String[] email_type_info = new String[]{'email','http://gdfsuez/bef/calypso/Correspondance/v2','string','0','1','false'};
		private String[] numeroTel_type_info = new String[]{'numeroTel','http://gdfsuez/bef/calypso/Correspondance/v2','string10','0','1','false'};
		private String[] idApplication_type_info = new String[]{'idApplication','http://gdfsuez/bef/calypso/Correspondance/v2','listeValeursDt','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/Correspondance/v2','true','false'};
		private String[] field_order_type_info = new String[]{'idFormulaire','canalCommunication','listeCoupleCodeValeur','modeEnvoi','email','numeroTel','idApplication','demandeTraceCorrespondance','adresseCorrespondanceMobile'};
		public envoyerCorrespondanceInputDt(){
		}
		public void populateXmlNode(Dom.XmlNode outerNode){

			gdfsuezComBefChpPivot.listeValeursDt idFormulaireObj = this.idFormulaire;
			Dom.XmlNode idFormulaireNode = outerNode.addChildElement('idFormulaire', '', '');
			if(idFormulaireObj != null){
				idFormulaireObj.populateXmlNode(idFormulaireNode);
			}

			gdfsuezComBefChpPivot.listeValeursDt canalCommunicationObj = this.canalCommunication;
			Dom.XmlNode canalCommunicationNode = outerNode.addChildElement('canalCommunication', '', '');
			if(canalCommunicationObj != null){
				canalCommunicationObj.populateXmlNode(canalCommunicationNode);
			}

			HP_GfsuezBefCalypsoCorrespondanceV2.listeCoupleCodeValeurDt listeCoupleCodeValeurObj = this.listeCoupleCodeValeur;
			Dom.XmlNode listeCoupleCodeValeurNode = outerNode.addChildElement('listeCoupleCodeValeur', '', '');
			if(listeCoupleCodeValeurObj != null){
				listeCoupleCodeValeurObj.populateXmlNode(listeCoupleCodeValeurNode);
			}

			gdfsuezComBefChpPivot.listeValeursDt modeEnvoiObj = this.modeEnvoi;
			Dom.XmlNode modeEnvoiNode = outerNode.addChildElement('modeEnvoi', '', '');
			if(modeEnvoiObj != null){
				modeEnvoiObj.populateXmlNode(modeEnvoiNode);
			}
			if (this.email != null) {
				Dom.XmlNode emailNode = outerNode.addChildElement('email', '', '');
				emailNode.addTextNode(this.email);
			}

			if (this.numeroTel != null) {
				Dom.XmlNode numeroTelNode = outerNode.addChildElement('numeroTel', '', '');
				numeroTelNode.addTextNode(this.numeroTel);
			}

			gdfsuezComBefChpPivot.listeValeursDt idApplicationObj = this.idApplication;
			Dom.XmlNode idApplicationNode = outerNode.addChildElement('idApplication', '', '');
			if(idApplicationObj != null){
				idApplicationObj.populateXmlNode(idApplicationNode);
			}
		}
	}
	public class envoyerCorrespondanceResponse_element {
		public gdfsuezComBefChpPivot.messageRetoursDt messageRetours;
		private String[] messageRetours_type_info = new String[]{'messageRetours','http://gdfsuez/bef/calypso/Correspondance/v2','messageRetoursDt','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/Correspondance/v2','true','false'};
		private String[] field_order_type_info = new String[]{'messageRetours'};
		public envoyerCorrespondanceResponse_element(){
		}
		public envoyerCorrespondanceResponse_element(DOM.XmlNode responseNode){
			Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
			//System.assertEquals('EnvoyerCorrespondanceResponse', responseNode.getName());
			DOM.XmlNode messageRetoursNode = responseNode.getChildElement('messageRetours', 'http://gdfsuez/bef/calypso/Correspondance/v2');
			if(messageRetoursNode == null){
				this.messageRetours = null;
			} else{
				gdfsuezComBefChpPivot.messageRetoursDt messageRetoursObj = new gdfsuezComBefChpPivot.messageRetoursDt(messageRetoursNode);
				nodesParsed.add(messageRetoursNode);
				this.messageRetours = messageRetoursObj;
			}
			//System.debug(this.messageRetours);
		}
	}
	public class listeCoupleCodeValeurDt {
		public HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt[] coupleCodeValeur;
		private String[] coupleCodeValeur_type_info = new String[]{'coupleCodeValeur','http://gdfsuez/bef/calypso/Correspondance/v2','coupleCodeValeurDt','1','-1','false'};
		private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/Correspondance/v2','true','false'};
		private String[] field_order_type_info = new String[]{'coupleCodeValeur'};
		public listeCoupleCodeValeurDt(){
		}
		public listeCoupleCodeValeurDt(DOM.XmlNode responseNode){
			Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
			Dom.XmlNode[] coupleCodeValeurChildren = responseNode.getChildElements();
			HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt[] coupleCodeValeurList = new List<HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt>();
			if(coupleCodeValeurChildren == null || coupleCodeValeurChildren.size() == 0){
				this.coupleCodeValeur = null;
			} else{
				for(DOM.XmlNode childNode : coupleCodeValeurChildren){
					if(childNode.GetName() == 'coupleCodeValeur'){
						HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt Obj = new HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt(childNode);
						coupleCodeValeurList.Add(Obj);
						nodesParsed.add(childNode);
					}
				}
				this.coupleCodeValeur = coupleCodeValeurList;
			}
			//System.debug(this.coupleCodeValeur);
		}
		public void populateXmlNode(Dom.XmlNode outerNode){

			HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt[] coupleCodeValeurObj = this.coupleCodeValeur;
			if(coupleCodeValeurObj != null){
				for(HP_GfsuezBefCalypsoCorrespondanceV2.coupleCodeValeurDt element: coupleCodeValeurObj){
					Dom.XmlNode coupleCodeValeurNode = outerNode.addChildElement('coupleCodeValeur', '', '');
					element.populateXmlNode(coupleCodeValeurNode);
				}
			}
		}
	}
}