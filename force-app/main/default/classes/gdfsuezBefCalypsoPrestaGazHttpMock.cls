//Generated by FuseIT WSDL2Apex (http://www.fuseit.com/Solutions/SFDC-Explorer/Help-WSDL-Parser.aspx)

@isTest
global class gdfsuezBefCalypsoPrestaGazHttpMock implements HttpCalloutMock {
	global HTTPResponse respond(HTTPRequest req){
		HttpResponse res = new HttpResponse();
		res.setHeader('Content-Type', 'application/json');
		DOM.Document responseDoc = new DOM.Document();
		/*DOM.XmlNode envelope = responseDoc.createRootElement('Envelope', 'http://schemas.xmlsoap.org/soap/envelope/', 's');
		DOM.XmlNode bodyNode = envelope.addChildElement('Body', 'http://schemas.xmlsoap.org/soap/envelope/', null);
        */
		DOM.Document reqDoc = req.getBodyDocument();
		DOM.XmlNode rootNode = reqDoc.getRootElement();
		DOM.XmlNode reqBodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
		DOM.XmlNode[] methodNode = reqBodyNode.getChildElements();
        
        System.debug('*** Method : ' + methodNode[0].getName());
        String expectedResult = '';
		if(methodNode[0].getName() == 'v2:creerPrestationServiceGazOffline'){
			expectedResult = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v2="http://gdfsuez/bef/calypso/prestationservicegaz/v2"><soapenv:Header/><soapenv:Body><v2:creerPrestationServiceGazOfflineResponse><creerPrestationServiceGazOfflineOutput><idPrestationServiceFournisseur>A123456789</idPrestationServiceFournisseur></creerPrestationServiceGazOfflineOutput><messageRetours><retourTraitementMessage><code>OCTOPUS_CreerPrestationServiceGazOffline_01</code></retourTraitementMessage></messageRetours></v2:creerPrestationServiceGazOfflineResponse></soapenv:Body></soapenv:Envelope>';
		} else if(methodNode[0].getName() == 'v2:lirePrestationServiceGaz'){
			//expectedResult = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v2="http://gdfsuez/bef/calypso/prestationservicegaz/v2"><soapenv:Header/><soapenv:Body><v2:lirePrestationServiceGazResponse><lirePrestationServiceGazOutput><prestationServiceLire><idPrestationServiceDistributeur>' + SM_AP30_PrestationGaz_Test.LIREONLINE_REF_EXT + '</idPrestationServiceDistributeur><idPrestationServiceFournisseur>F0001</idPrestationServiceFournisseur><donneesGenerales><dateEffetDemandee><date>' + SM_AP30_PrestationGaz_Test.LIREONLINE_DATE_PREVUE+ '</date><creneauHoraire><code>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + '</code><libelleCourt>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + ' </libelleCourt></creneauHoraire></dateEffetDemandee><donneesPDL><idPDLGaz>' + SM_AP30_PrestationGaz_Test.LIREONLINE_PDL + '</idPDLGaz></donneesPDL></donneesGenerales><interventions><intervention><planification><datePrevue>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_DATE_PREVUE + '</datePrevue><creneauHoraire><code>' + SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU_CODE + '</code><libelleCourt>' + SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + '</libelleCourt></creneauHoraire></planification><commentaireIntervention>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_COM+  '</commentaireIntervention></intervention></interventions></prestationServiceLire></lirePrestationServiceGazOutput><messageRetours><retourTraitementMessage><code>OCTOPUS_LirePrestationServiceGaz_01</code></retourTraitementMessage></messageRetours></v2:lirePrestationServiceGazResponse></soapenv:Body></soapenv:Envelope>';
        	//expectedResult = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><tns:lirePrestationServiceGazResponse xmlns:tns="http://gdfsuez/bef/calypso/prestationservicegaz/v2"><lirePrestationServiceGazOutput><prestationServiceLire><idPrestationServiceDistributeur>W00005XU</idPrestationServiceDistributeur><donneesGenerales><statutPrestationService><libelleCourt>RDV programmé</libelleCourt><code>63</code></statutPrestationService><typePrestationService><code>MES</code></typePrestationService><motifStatutPrestation><code>023</code></motifStatutPrestation><codePrestation><code>PRE_MES_1</code></codePrestation><realisationIntervention><code>2</code></realisationIntervention><priseEnCompteContractuelle><libelleCourt>Non effectif</libelleCourt><code>2</code></priseEnCompteContractuelle><dateEffetDemandee><date>2019-04-26T00:00:00</date><creneauHoraire><libelleCourt>Matin</libelleCourt><code>mat</code></creneauHoraire></dateEffetDemandee><jalons><dateCreationDemande>2019-04-08T00:00:00</dateCreationDemande><dateDernierChgtStatut>2019-04-12T00:00:00</dateDernierChgtStatut></jalons><donneesPDL><idPDLGaz>21101817747701</idPDLGaz><etatPDL><code>0</code></etatPDL></donneesPDL></donneesGenerales><interventions><intervention><planification><datePrevue>2019-04-26T00:00:00</datePrevue><heureDebut>08:30:00</heureDebut><heureFin>21:00:00</heureFin><creneauHoraire><libelleCourt>Journée</libelleCourt><code>jou</code></creneauHoraire></planification><commentaireIntervention>8</commentaireIntervention></intervention></interventions></prestationServiceLire></lirePrestationServiceGazOutput><messageRetours><retourTraitementMessage><id>6d8941bb-b103-45f6-9458-f0db501a1358</id><source>Middleware Octopus</source><libelle>Traitement effectué sans erreur pour l\'idPrestationServiceDistributeur = W00005XU</libelle><classe>Fonctionnelle</classe><type>Information</type><code>OCTOPUS_LirePrestationServiceGaz_01</code><timestamp>2019-04-12T17:30:45+01:00</timestamp></retourTraitementMessage></messageRetours></tns:lirePrestationServiceGazResponse></soapenv:Body></soapenv:Envelope>';
        	expectedResult = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v2="http://gdfsuez/bef/calypso/prestationservicegaz/v2"><soapenv:Header/><soapenv:Body>'+
                '<v2:lirePrestationServiceGazResponse><lirePrestationServiceGazOutput><prestationServiceLire><idPrestationServiceDistributeur>' + SM_AP30_PrestationGaz_Test.LIREONLINE_REF_EXT + 
                '</idPrestationServiceDistributeur><idPrestationServiceFournisseur>F0001</idPrestationServiceFournisseur><donneesGenerales><dateEffetDemandee><date>' + SM_AP30_PrestationGaz_Test.LIREONLINE_DATE_PREVUE+ 
                '</date><creneauHoraire><code>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + '</code><libelleCourt>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + 
                ' </libelleCourt></creneauHoraire></dateEffetDemandee><donneesPDL><idPDLGaz>' + SM_AP30_PrestationGaz_Test.LIREONLINE_PDL + '</idPDLGaz></donneesPDL></donneesGenerales>'+
                '<interventions><intervention><planification><datePrevue>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_DATE_PREVUE + '</datePrevue><creneauHoraire><code>' + 
                SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU_CODE + '</code><libelleCourt>' + SM_AP30_PrestationGaz_Test.LIREONLINE_CRENEAU_RETENU + '</libelleCourt></creneauHoraire></planification>'+
                '<commentaireIntervention>'+ SM_AP30_PrestationGaz_Test.LIREONLINE_COM+  '</commentaireIntervention></intervention></interventions></prestationServiceLire></lirePrestationServiceGazOutput>'+
                '<messageRetours><retourTraitementMessage><code>OCTOPUS_LirePrestationServiceGaz_01</code></retourTraitementMessage></messageRetours></v2:lirePrestationServiceGazResponse></soapenv:Body></soapenv:Envelope>';


        } else if (methodNode[0].getName() == 'v2:modifierPrestationServiceGaz'){
            expectedResult = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:v2="http://gdfsuez/bef/calypso/prestationservicegaz/v2"><soapenv:Header/><soapenv:Body>'+
                '<v2:modifierPrestationServiceGazResponse><modifierPrestationServiceGazOutput><dateDemandee>2018-09-10T00:00:00Z</dateDemandee><planificationIntervention><datePrevue>2018-09-10T00:00:00Z</datePrevue>'+
                '<creneauHoraire><libelleCourt>Après-midi</libelleCourt><code>APM</code></creneauHoraire><heureDebut>1000</heureDebut><heureFin>2000</heureFin></planificationIntervention><tableauDeCharges><creneauDisponible><date>2018-09-10T00:00:00Z</date><creneauHoraire>'+
                '<libelleCourt>Après-midi</libelleCourt><code>APM</code></creneauHoraire></creneauDisponible></tableauDeCharges></modifierPrestationServiceGazOutput><messageRetours><retourTraitementMessage>'+
                '<code>OCTOPUS_ModifierPrestationServiceGaz_01</code></retourTraitementMessage></messageRetours></v2:modifierPrestationServiceGazResponse></soapenv:Body></soapenv:Envelope>';       
        }
        
        responseDoc.load(expectedResult);
        System.debug('*** Mock returned : ' + responseDoc.toXmlString());
		res.setBody(responseDoc.toXmlString());
		res.setStatusCode(200);
		return res;
	}
}